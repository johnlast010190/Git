/*--------------------------------*- C++ -*----------------------------------*\
|       o        |                                                            |
|    o     o     |  HELYX (R) : Open-source CFD for Enterprise                |
|   o   O   o    |  Version : 4.4.0                                           |
|    o     o     |  ENGYS Ltd. <http://engys.com/>                            |
|       o        |                                                            |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      helyxHexMeshDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

castellatedMesh true;
snap true;
addLayers true;
blockType auto;
blockData ( 0.008 0 );
crackDetection false;
crackTol 0.05;
allowTopoChanges true;
finalDecomposition ptscotch;
meshMode quality;

geometry
{
    Co2_BladeLE.bts
    {
        type triSurfaceMesh;
        name Co2_BladeLE;
        appendRegionName false;
    }
    Co2_BladePS.bts
    {
        type triSurfaceMesh;
        name Co2_BladePS;
        appendRegionName false;
    }
    Co2_BladeSS.bts
    {
        type triSurfaceMesh;
        name Co2_BladeSS;
        appendRegionName false;
    }
    Co2_BladeTE.bts
    {
        type triSurfaceMesh;
        name Co2_BladeTE;
        appendRegionName false;
    }
    Co2_Hub.bts
    {
        type triSurfaceMesh;
        name Co2_Hub;
        appendRegionName false;
    }
    Co2_Inflow.bts
    {
        type triSurfaceMesh;
        name Co2_Inflow;
        appendRegionName false;
    }
    Co2_Outflow.bts
    {
        type triSurfaceMesh;
        name Co2_Outflow;
        appendRegionName false;
    }
    Co2_PeriodicPS.bts
    {
        type triSurfaceMesh;
        name Co2_PeriodicPS;
        appendRegionName false;
    }
    Co2_PeriodicSS.bts
    {
        type triSurfaceMesh;
        name Co2_PeriodicSS;
        appendRegionName false;
    }
    Co2_Shroud.bts
    {
        type triSurfaceMesh;
        name Co2_Shroud;
        appendRegionName false;
    }
    Co3_BladeLE.bts
    {
        type triSurfaceMesh;
        name Co3_BladeLE;
        appendRegionName false;
    }
    Co3_BladePS.bts
    {
        type triSurfaceMesh;
        name Co3_BladePS;
        appendRegionName false;
    }
    Co3_BladeSS.bts
    {
        type triSurfaceMesh;
        name Co3_BladeSS;
        appendRegionName false;
    }
    Co3_BladeTE.bts
    {
        type triSurfaceMesh;
        name Co3_BladeTE;
        appendRegionName false;
    }
    Co3_Hub.bts
    {
        type triSurfaceMesh;
        name Co3_Hub;
        appendRegionName false;
    }
    Co3_Inflow.bts
    {
        type triSurfaceMesh;
        name Co3_Inflow;
        appendRegionName false;
    }
    Co3_Outflow.bts
    {
        type triSurfaceMesh;
        name Co3_Outflow;
        appendRegionName false;
    }
    Co3_PeriodicPS.bts
    {
        type triSurfaceMesh;
        name Co3_PeriodicPS;
        appendRegionName false;
    }
    Co3_PeriodicSS.bts
    {
        type triSurfaceMesh;
        name Co3_PeriodicSS;
        appendRegionName false;
    }
    Co3_Shroud.bts
    {
        type triSurfaceMesh;
        name Co3_Shroud;
        appendRegionName false;
    }
}

castellatedMeshControls
{
    features ();
    refinementSurfaces
    {
        Co2_BladeLE
        {
            level ( 3 3 );
        }
        Co2_BladePS
        {
            level ( 2 3 );
        }
        Co2_BladeSS
        {
            level ( 2 3 );
        }
        Co2_BladeTE
        {
            level ( 3 3 );
        }
        Co2_Hub
        {
            level ( 2 2 );
        }
        Co2_Inflow
        {
            level ( 0 0 );
        }
        Co2_Outflow
        {
            level ( 0 0 );
        }
        Co2_PeriodicPS
        {
            level ( 1 1 );
        }
        Co2_PeriodicSS
        {
            level ( 1 1 );
        }
        Co2_Shroud
        {
            level ( 2 2 );
        }
        Co3_BladeLE
        {
            level ( 3 3 );
        }
        Co3_BladePS
        {
            level ( 1 1 );
        }
        Co3_BladeSS
        {
            level ( 1 1 );
        }
        Co3_BladeTE
        {
            level ( 3 3 );
        }
        Co3_Hub
        {
            level ( 2 2 );
        }
        Co3_Inflow
        {
            level ( 0 0 );
        }
        Co3_Outflow
        {
            level ( 0 0 );
        }
        Co3_PeriodicPS
        {
            level ( 1 1 );
        }
        Co3_PeriodicSS
        {
            level ( 1 1 );
        }
        Co3_Shroud
        {
            level ( 2 2 );
        }
    }
    refinementRegions {}
    maxLocalCells 250000000;
    maxGlobalCells 1000000000;
    minRefinementCells 100;
    maxLoadUnbalance 0.1;
    nCellsBetweenLevels 2;
    resolveFeatureAngle -60.0;
    featureRefineAngle 20.0;
    refineSurfaceBoundary false;
    minBaffleAngle -60.0;
    allowFreeStandingZoneFaces false;
    balanceThenRefine true;
    nGapRefinements 0;
    minZoneRegionSize 1;
    additionalInsideCheck false;
    moveCentroidsTol -1.0;
    interfaceRefine true;
    splitCells false;
    wrapper
    {
        wrap false;
        volSources true;
        volDistance 1.0;
        meshInMM false;
        maxIter 200;
        writeFields false;
        invert false;
        sigma 3.0;
        cutoff 1000.0;
    }
    locationsInMesh
    (
        ( ( 0.118 0.014 0.053 ) impeller )
        ( ( 0.086 -0.066 0.133 ) stator )
    );
    interZonesBaffle false;
    singleCellGapClosure false;
    curvature 5.0;
    filterFreeStandingHoles false;
    extrudeExtraRemoval false;
    fullLeakChecks true;
    locationsOutsideMesh ();
    zoneLeakChecks false;
    zonesToTest ();
}

snapControls
{
    featureEdges {}
    nOuterIter 1;
    nPreFeatureIter 0;
    nSolveIter 10;
    nFeatureIter 60;
    globalFeatureEdges true;
    globalRegionSnap true;
    nSmoothPatch 2;
    tolerance 4.0;
    nRelaxIter 5;
    zoneFeatureSnapping true;
    directFeatureSnapping true;
    geometryFeatureLines true;
    snapSurfBoundary true;
    collapseTol 0.25;
    enlargeStencil false;
    smoothSnappedSurface true;
    featureSnapChecks true;
    concaveTol 0.3;
    nSliverSmooths 10;
    mergeBoundaryFaces true;
    averageSurfaceNormal true;
    repatchOverlapping false;
    acuteReflexSnapAngle 25.0;
    minAcuteReflexSnapAngle 8.0;
    preFaceMergeExtrude false;
}

addLayersControls
{
    layers
    {
        Co2_BladeLE
        {
            nSurfaceLayers 5;
            expansionRatio 1.25;
            grownUp false;
            baffleCollapse false;
        }
        Co2_BladePS
        {
            nSurfaceLayers 5;
            expansionRatio 1.25;
            grownUp false;
            baffleCollapse false;
        }
        Co2_BladeSS
        {
            nSurfaceLayers 5;
            expansionRatio 1.25;
            grownUp false;
            baffleCollapse false;
        }
        Co2_BladeTE
        {
            nSurfaceLayers 5;
            expansionRatio 1.25;
            grownUp false;
            baffleCollapse false;
        }
        Co2_Hub
        {
            nSurfaceLayers 0;
            expansionRatio 1.25;
            grownUp true;
            reSnap true;
            baffleCollapse false;
        }
        Co2_Inflow
        {
            nSurfaceLayers 0;
            expansionRatio 1.25;
            grownUp true;
            reSnap true;
            baffleCollapse false;
        }
        Co2_Outflow
        {
            nSurfaceLayers 0;
            expansionRatio 1.25;
            grownUp true;
            reSnap true;
            baffleCollapse false;
        }
        Co2_PeriodicPS
        {
            nSurfaceLayers 0;
            expansionRatio 1.25;
            grownUp true;
            reSnap true;
            baffleCollapse false;
        }
        Co2_PeriodicSS
        {
            nSurfaceLayers 0;
            expansionRatio 1.25;
            grownUp true;
            reSnap true;
            baffleCollapse false;
        }
        Co2_Shroud
        {
            nSurfaceLayers 0;
            expansionRatio 1.25;
            grownUp true;
            reSnap true;
            baffleCollapse false;
        }
        Co3_BladeLE
        {
            nSurfaceLayers 5;
            expansionRatio 1.25;
            grownUp false;
            baffleCollapse false;
        }
        Co3_BladePS
        {
            nSurfaceLayers 5;
            expansionRatio 1.25;
            grownUp false;
            baffleCollapse false;
        }
        Co3_BladeSS
        {
            nSurfaceLayers 5;
            expansionRatio 1.25;
            grownUp false;
            baffleCollapse false;
        }
        Co3_BladeTE
        {
            nSurfaceLayers 5;
            expansionRatio 1.25;
            grownUp false;
            baffleCollapse false;
        }
        Co3_Hub
        {
            nSurfaceLayers 0;
            expansionRatio 1.25;
            grownUp true;
            reSnap true;
            baffleCollapse false;
        }
        Co3_Inflow
        {
            nSurfaceLayers 0;
            expansionRatio 1.25;
            grownUp true;
            reSnap true;
            baffleCollapse false;
        }
        Co3_Outflow
        {
            nSurfaceLayers 0;
            expansionRatio 1.25;
            grownUp true;
            reSnap true;
            baffleCollapse false;
        }
        Co3_PeriodicPS
        {
            nSurfaceLayers 0;
            expansionRatio 1.25;
            grownUp true;
            reSnap true;
            baffleCollapse false;
        }
        Co3_PeriodicSS
        {
            nSurfaceLayers 0;
            expansionRatio 1.25;
            grownUp true;
            reSnap true;
            baffleCollapse false;
        }
        Co3_Shroud
        {
            nSurfaceLayers 0;
            expansionRatio 1.25;
            grownUp true;
            reSnap true;
            baffleCollapse false;
        }
    }
    expansionRatio 1.25;
    finalLayerThickness 0.4;
    featureAngleTerminate 80;
    maxFaceThicknessRatio 2.0;
    maxProjectionDistance 10000.0;
    writeVTK true;
    fixedFCH false;
    dualConcaveCollapse 300;
    dualZoneLayersScaling 1.0;
    dualLayerInterfaceWeights 0.5;
    dualMaxOrtho 180;
    dualReSnapZones true;
    extrudeBlend true;
    incrementLower true;
    fchWarpedSplit 0.5;
    curvatureSplit true;
    squishTol -1.0;
}

meshQualityControls
{
    maxNonOrtho 70.0;
    maxBoundarySkewness 20;
    maxInternalSkewness 6;
    maxConcave 80.0;
    minFlatness 0.5;
    minVol 1.0E-16;
    minTetQuality -1.0E30;
    minArea 1.0E-13;
    minTwist 0.05;
    minDeterminant 1.0E-4;
    minFaceWeight 0.08;
    minVolRatio 0.02;
    minTriangleTwist -0.99;
    errorReduction 0.75;
    nSmoothScale 10;
    minVolCollapseRatio -1.0;
    faceFaceCells false;
    minSnapRelativeVolume -1;
    smoothAlignedEdges false;
    minSnapRelativeTetVolume -1;
    maxGaussGreenCentroid -1;
    nVolSmoothIter 8;
    maxCellAspectRatio -1.0;
    maxFaceCentreNonOrtho 180.0;
    minEdgeLength -1.0;
}

debug 0;
mergeTolerance 1.0E-6;
meshAlgorithm extrude;
outputProtected false;

meshOptimization
{
    type cfMeshOptimize;
    cfMeshOptimizeCoeffs
    {
        qualityThreshold 0.0;
        numLaplaceIterations 0;
        maxNumGlobalIterations 10;
        maxNumIterations 50;
        maxNumSurfaceIterations 2;
        relaxedCheck false;
        finalRelaxedCheck true;
        checkWarped false;
    }
}

cellRemoval
{
    checks ();
    patch oldInternalFaces;
    removeCells true;
    writeVTK true;
}


// ************************************************************************* //
