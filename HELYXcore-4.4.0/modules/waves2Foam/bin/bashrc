#!/bin/bash

### SETTING A FLAG
if [ -z "$WAVES_DIR" ]
then
    printVariables=1
fi

# If any string is parsed, do no print
if [ -n "$1" ]
then
    printVariables=0
fi

### USER DEFINED ENVIRONMENTAL VARIABLES
export WAVES_DIR=$HELYX_MODULES/waves2Foam
export WAVES_APPBIN=$CMAKE_RUNTIME_OUTPUT_DIRECTORY
export WAVES_LIBBIN=$CMAKE_LIBRARY_OUTPUT_DIRECTORY

### OTHER STATIC ENVIRONMENTAL VARIABLES

export HELYX_PROJECT_VERSION_NUMBER="1706"

## Easy navigation
export WAVES_SRC=$WAVES_DIR/src
export WAVES_TUT=$WAVES_DIR/tutorials
export WAVES_SOL=$WAVES_DIR/applications/solvers/solvers
export WAVES_UTIL=$WAVES_DIR/applications/utilities
export WAVES_PRE=$WAVES_UTIL/preProcessing
export WAVES_POST=$WAVES_UTIL/postProcessing

## Is this a D.D.x version of OpenFoam. Needed to distinguish 2.2.0 and 2.2.x

xVersion=0
export WAVES_XVERSION=$xVersion

## Extend branch or not
EXTBRANCH=0
export EXTBRANCH

## Is it the new foam-extend class?
FOAMEXTENDPROJECT=0
export FOAMEXTENDPROJECT

OFPLUSBRANCH=1
export WAVES_SOL=${WAVES_SOL}"_PLUS"

export OFPLUSBRANCH

### PRINT INFORMATION
if [ "$printVariables" == "1" ]
then
    echo ""
    echo "====================================="
    echo "    ENVIRONMENTAL VARIABLES"
    echo "====================================="
    env | grep "WAVES\|EXTBRANCH\|HELYX_PROJECT_VERSION_NUMBER\|FOAMEXTEND\|OFPLUSBRANCH" | sort
    echo ""
fi
