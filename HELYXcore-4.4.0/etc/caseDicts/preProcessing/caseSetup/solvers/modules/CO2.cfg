CO2
{
    fieldMaps
    {
        CO2 phase;
        DtCO2 D;
    }

    system
    {
        fvSchemes
        {
            divSchemes
            {
                div(phi,CO2)    bounded Gauss deferred vanLeer;
            }
        }
        fvSolution
        {
            solvers
            {
                CO2 {#include "../../settings/matrixSolvers/steadySmoothSolver.cfg"}
            }
            relaxationFactors
            {
                equations
                {
                    CO2 0.7;
                }
            }
        }
        fvOptions
        {
            YCO2
            {
                type        concentrationTransport;
                active      true;
                hookOp      solve;
                fieldName   CO2;
            }
        }
    }


    requirements
    {
        AND ();
        OR
        (
            //incompressible
                simpleFoam
            simpleFoam2
            buoyantBousinesqSimpleFoam
            buoyantBousinesqSimpleFoam2

            pisoFoamRAS
            pisoFoamLES
            pisoFoamRAS2
            pisoFoamLES2
            pimpleFoamRAS
            pimpleFoamLES
            buoyantBousinesqPimpleFoamRAS
            buoyantBousinesqPimpleFoamLES
            buoyantBousinesqPimpleFoamRAS2
            buoyantBousinesqPimpleFoamLES2

            //compressible
            rhoSimpleFoam
            rhoSimpleFoam2
            buoyantSimpleFoam
            buoyantSimpleFoam2

            rhoPimpleFoamRAS
            rhoPimpleFoamLES
            rhoPimpleFoamRAS2
            rhoPimpleFoamLES2
            buoyantPimpleFoamRAS
            buoyantPimpleFoamRAS2
            buoyantPimpleFoamLES
            buoyantPimpleFoamLES2

            helyxCoupled
            tHelyxCoupledRAS
            tHelyxCoupledLES

            pressureCoupledS
            pressureCoupledTRAS
            pressureCoupledTLES

            segregatedS
            segregatedTRAS
            segregatedTLES
        );
        conditional
        {
            physicalValues
            {
                DCO2   DCO2   [0 2 -1 0 0 0 0] 1.61e-5;
                SctCO2 SctCO2 [0 0 0 0 0 0 0] 0.7;
            }
            constantTransport
            {
                constant
                {
                    transportProperties
                    {
                        $physicalValues
                    }
                }
            }
            constantThermo
            {
                constant
                {
                    thermophysicalProperties
                    {
                        $physicalValues
                    }
                }
            }
            systemMaterials
            {
                system
                {
                    materialProperties
                    {
                        CO2concentrationTransport
                        {
                            D [0 2 -1 0 0 0 0] 1.61e-5;
                            Sct 0.7;
                        }
                    }
                }
            }
            transIncomp
            {
                system
                {
                    fvSolution
                    {
                        solvers
                        {
                            CO2Final{#include "../../settings/matrixSolvers/transientSmoothSolver.cfg"}
                        }
                        relaxationFactors
                        {
                            equations
                            {
                                CO2 1;
                            }
                        }
                    }
                }
            }
            "buoyantBousinesqPimpleFoam.*" {$transIncomp $constantTransport}
            "pimpleFoam.*"  {$transIncomp $constantTransport}
            "pisoFoam.*"  {$transIncomp $constantTransport}
            "tHelyxCoupled.*" {$transIncomp $constantTransport}
            "buoyantBousinesqSimpleFoam.*" {$constantTransport}
            "simpleFoam.*" {$constantTransport}
            helyxCoupled
            {
                system
                {
                    fvSolution
                    {
                        relaxationFactors
                        {
                            equations
                            {
                                CO2 1;
                            }
                        }
                    }
                }
            }

            transComp
            {
                fieldMaps
                {
                    DtCO2 Dcompressible;
                }
                system
                {
                    fvSolution
                    {
                        solvers
                        {
                            CO2Final {#include "../../settings/matrixSolvers/transientSmoothSolver.cfg"}
                        }
                        relaxationFactors
                        {
                            equations
                            {
                                CO2 1;
                            }
                        }
                    }
                }
            }
            unboundedDiv
            {
                system
                {
                    fvSchemes
                    {
                        divSchemes
                        {
                            div(phi,CO2)    Gauss deferred vanLeer;
                        }
                    }
                }
            }

            "rhoPimpleFoam.*" {$transComp $unboundedDiv $constantThermo}
            "buoyantPimpleFoam.*" {$transComp $unboundedDiv $constantThermo}
            "segregatedT.*" {$transComp $systemMaterials}
            "pressureCoupledT.*" {$transComp $systemMaterials}

            steadyComp
            {
                fieldMaps
                {
                    DtCO2 Dcompressible;
                }
            }
            "rhoSimpleFoam.*" {$steadyComp $constantThermo}
            "buoyantSimpleFoam.*" {$steadyComp $constantThermo}
            segregatedS {$steadyComp $systemMaterials}

            pressureCoupledCompressible
            {
                $steadyComp
                system
                {
                    fvSolution
                    {
                        relaxationFactors
                        {
                            equations
                            {
                                CO2 0.95;
                            }
                        }
                    }
                }
            }

            pressureCoupledS {$pressureCoupledCompressible $systemMaterials}
        }
        NOT ();
    }
}
