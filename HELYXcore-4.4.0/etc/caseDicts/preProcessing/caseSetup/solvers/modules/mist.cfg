mist
{
    fieldMaps
    {
        mist phase;
        Dtmist D;
    }

    system
    {
        fvSchemes
        {
            divSchemes
            {
                div(phi,mist)    bounded Gauss deferred vanLeer;
            }
        }
        fvSolution
        {
            solvers
            {
                mist {#include "../../settings/matrixSolvers/steadySmoothSolver.cfg"}
            }
            relaxationFactors
            {
                equations
                {
                    mist 0.7;
                }
            }
        }

        fvOptions
        {
            Ymist
            {
                type        concentrationTransport;
                active      true;
                hookOp      operator;
                hookField   w;
                fieldName   mist;
                terminalVelocity 0.0;
            }
        }
    }

    requirements
    {
        AND ();
        OR
        (
            simpleFoam
            simpleFoam2

            buoyantBousinesqSimpleFoam
            buoyantBousinesqSimpleFoam2

            pisoFoamRAS
            pisoFoamLES
            pisoFoamRAS2
            pisoFoamLES2

            pimpleFoamRAS
            pimpleFoamLES

            buoyantBousinesqPimpleFoamRAS
            buoyantBousinesqPimpleFoamLES
            buoyantBousinesqPimpleFoamRAS2
            buoyantBousinesqPimpleFoamLES2

            rhoSimpleFoam
            rhoSimpleFoam2

            rhoPimpleFoamRAS
            rhoPimpleFoamLES
            rhoPimpleFoamRAS2
            rhoPimpleFoamLES2

            buoyantSimpleFoam
            buoyantSimpleFoam2

            buoyantPimpleFoamRAS
            buoyantPimpleFoamRAS2
            buoyantPimpleFoamLES
            buoyantPimpleFoamLES2

            helyxCoupled
            tHelyxCoupledRAS
            tHelyxCoupledLES

            pressureCoupledS
            pressureCoupledTRAS
            pressureCoupledTLES

            segregatedS
            segregatedTRAS
            segregatedTLES
        );
        conditional
        {
            physicalValues
            {
                Dmist    Dmist [0 2 -1 0 0 0 0] 2.82e-5;
                Sctmist    Sctmist [0 0 0 0 0 0 0] 0.7;
            }
            constantTransport
            {
                constant
                {
                    transportProperties
                    {
                        $physicalValues
                    }
                }
            }
            constantThermo
            {
                constant
                {
                    thermophysicalProperties
                    {
                        $physicalValues
                    }
                }
            }
            systemMaterials
            {
                system
                {
                    materialProperties
                    {
                        mistconcentrationTransport
                        {
                            D [0 2 -1 0 0 0 0] 2.82e-5;
                            Sct 0.7;
                        }
                    }
                }
            }
            transIncomp
            {
                system
                {
                    fvSolution
                    {
                        solvers
                        {
                            mistFinal {#include "../../settings/matrixSolvers/transientSmoothSolver.cfg"}
                        }
                        relaxationFactors
                        {
                            equations
                            {
                                mist 1;
                            }
                        }
                    }
                }
            }
            "buoyantBousinesqPimpleFoam.*" {$transIncomp $constantTransport}
            "pimpleFoam.*" {$transIncomp $constantTransport}
            "pisoFoam.*" {$transIncomp $constantTransport}
            "tHelyxCoupled.*" {$transIncomp $constantTransport}
            "buoyantBousinesqSimpleFoam.*" {$constantTransport}
            "simpleFoam.*" {$constantTransport}
            helyxCoupled
            {
                system
                {
                    fvSolution
                    {
                        relaxationFactors
                        {
                            equations
                            {
                                mist 1;
                            }
                        }
                    }
                }
            }

            transComp
            {
                fieldMaps
                {
                    Dtmist Dcompressible;
                }
                system
                {
                    fvSolution
                    {
                        solvers
                        {
                            mistFinal {#include "../../settings/matrixSolvers/transientSmoothSolver.cfg"}
                        }
                        relaxationFactors
                        {
                            equations
                            {
                                mist 1;
                            }
                        }
                    }
                }
            }
            unboundedDiv
            {
                system
                {
                    fvSchemes
                    {
                        divSchemes
                        {
                            div(phi,mist)    Gauss deferred vanLeer;
                        }
                    }
                }
            }
            "rhoPimpleFoam.*" {$transComp $unboundedDiv $constantThermo}
            "buoyantPimpleFoam.*" {$transComp $unboundedDiv $constantThermo}

            transSegregatedComp
            {
                $transComp;
                system
                {
                    fvOptions
                    {
                        Ymist
                        {
                            ~hookOp;
                            ~hookField;
                            dependencies ( w ( mist ) );
                        }
                    }
                }
            }
            "segregatedT.*" {$transSegregatedComp $systemMaterials}

            transCoupledComp
            {
                $transSegregatedComp
                system
                {
                    fvSolution
                    {
                        relaxationFactors
                        {
                            equations
                            {
                                mist 0.7;
                                mistFinal 1;
                            }
                        }
                    }
                }
            }
            "pressureCoupledT.*" {$transCoupledComp $systemMaterials}

            steadyComp
            {
                fieldMaps
                {
                    Dtmist Dcompressible;
                }
            }
            "rhoSimpleFoam.*" {$steadyComp $constantThermo}
            "buoyantSimpleFoam.*" {$steadyComp $constantThermo}

            steadySegregatedComp
            {
                $steadyComp;
                system
                {
                    fvOptions
                    {
                        Ymist
                        {
                            ~hookOp;
                            ~hookField;
                        }
                    }
                }
            }
            segregatedS {$steadySegregatedComp $systemMaterials}

            pressureCoupledCompressible
            {
                $steadySegregatedComp
                system
                {
                    fvSolution
                    {
                        relaxationFactors
                        {
                            equations
                            {
                                mist 0.95;
                            }
                        }
                    }
                }
            }
            pressureCoupledS {$pressureCoupledCompressible $systemMaterials}
        }
        NOT ();
    }
}
